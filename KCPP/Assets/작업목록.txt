기본 조작 (추후에 수정)
플레이어 이동 : WASD
점프, 전력질주, 회피, : 스페이스바(홀딩)
달리기, 걷기 토글 : 컨트롤 토글
아이템 사용 : R
아이템 사용 슬롯 변경 : 마우스 휠
막기 : Shift 홀딩
화면 전환 : 마우스 우클릭 홀딩 마우스 이동
총알 발사 : 마우스 왼쪽클릭
AI(적) 만들기
적이 플레이어 따라가기
적의 이동 구현 waypoiint
적의 공격

플레이어 공격 구현(근접공격 미구현)

기본 조작을 구현하는데 있어서 문제점은 moveposition을 사용할때 리지드바디가 가속도가 있어서
플레이어가 조금더 밀리는 현상이 있었는데 벨로시티 제로를 사용해서 해결했다
(나중에 카메라 조정을 하면서 코드가 수정되었다)

적이 플레이어에게 닿으면 계속 밀어내는 상황이 생겨서
콜리젼엔터 엑시트 사용해서 플레이어 따라가는 로직을 멈추게 하는 함수를 작성해서 해결했고

그래도 계속 밀리는건 생기지만 멈추는걸로 해결이 되었다

이제 총알에 맞아도 밀리는건 구현이 되었지만 약간 불안정하다
올바르게 패트롤이 초기화 되는건지 확인하기가 어렵다

점프: 현실적으로 바닥이 있어야 점프가 가능한 상황(공중에서 점프는 할수 없다)
점프를 구현할때 계속 점프를해서 위로 올라가는 상황이 안만들어지기 위해서
바닥에 있을때에만 점프를 하도록 OnCollisionStay를 사용

현재 회피에 대한 기능은 shift로 구현되어있다(막기에 대한 로직이 없고 스페이스바에 회피를 같이 사용할 계획)
앞으로 가는 기능만 만들어져 있다
구현해야하는 것들 보스 패턴을 피할수 있는 요소
백스텝, 옆으로 회피, 앞으로 구르기, 달리기

보스 패턴을 어떤걸 구현해야하나
기본적인 것 부터 하나하나 해야한다

플레이어를 찾는지 따라가는지 공격하는지
공격범위에 들어왔는지 체크하고 공격패턴을 사용하도록

보스의 랜덤공격이 너무 많이 나오는 문제가 있다
쿨타임을 정해도 이상하게 연속적으로 많이 나오는 상태이다
코루틴을 사용해도 쿨타임이 적용이 안되는거같다
문제해결
코루틴을 끝내는 함수가 필요했다 break;
쿨타임이 적용되는 상황에서는 if문 bool 변수를 사용해서 
쿨타임동안에 코루틴 로직을 작동하지 않게 해야한다.


RPG스크립트에서 가져와서 쓰는 방식을 사용하려한다
능력치를 가져왔고 눈에 보이게 했으니 이제 데미지에 대한 로직을 만들어야한다
적과 플레이어가 서로 데미지를  주고받는 로직을 어디서 구현할것인가

플레이어가 총을 가지고있고 총에 총알이 있고 총알에 데미지를 넣기 위해서는 어떻게 해야하나
총알에 맞은 적은 데미지를 입어야한다
총알에 데미지를 주는 로직과 적이 죽으면 사라지는 거 까지 함께 구현했다
총알에 적을 가져와서 쓰는거랑 플레이어의 공격력을 가지고 오는거
static을 사용해서 플레이어는 가지고 왔지만 적을 가져 오려고하니까 오류가 나서
GetComponent를 사용했다
(이 부분은 static Instance를 사용해서 해결)
다른 스크립트에 있는 정보를 하나하나 다 GetComponent하려니까 코드가 너무 길어지는거 때문에


보스랑 적의 태그가 분리되어있는데 플레이어는 바라보는 방향을 둘다 
해야하기때문에 태그가 겹치는걸 감안을 해야한다

레이어를 사용했고 배열 사용해서 적이랑 보스를 다 적용할수 있게 했다

화면 전환에 대해 
마우스 우클릭 유지 시에 화면을 움직일 수 있도록 구현
(기본적으로 인게임 상황에서는 필요하지 않은 기능인데 유니티에서 플레이하기 위해서)

새로 추가된 플레이 방식
플레이어 이동하는 방향(정면)으로 총알이 나가기 때문에 컨트롤하는데 있어서 어려운점이 있다
그래서 적에게 플레이어 방향이랑 화면을 고정해서 플레이에 불편함이 없도록 한다

마우스 휠을 눌렀으때 적에게 화면이랑 플레이어가 바라보는 방향이 고정되어야한다
눌러도 정확한 위치가 없어서 바라보긴하지만 원하는 방향은 아닌거같다
플레이어가 적을 바라보긴하지만 이동하면 다시 이동방향으로 움직이고
현재 카메라 방향에 영향을 받는 이동로직에서도 우클릭을 누르고 이동하면 화면이 흔들리는 문제가 발생
적과 보스의 상체에 화면을 고정하고 싶었지만 현재 진행중

마우스 휠은 토글이라는 개념으로 사용되어야한다 
누르고 있을때가 아니라 한번 누르고 고정 또 한번 누르면 고정해제 원할때 화면을 고정할수 있도록 한다


플레이어 방향이랑 카메라를 조정하는거에 대해서
토글캠 함수를 먼저 호출해서 마우스 우클릭에 대한 함수를 제어 할수 있도록
플레이어 이동스크립트에 있었던 적을 찾고 플레이어 방향을 고정하는 함수를 새로운 스크립트로 만들어서 관리

플레이 화면을 움직이는 스크립트랑 적을 찾아서 고정하는 스크립트에 상호작용에 있어서 문제가 발생
마우스 휠을 눌러도 우클릭을 누르면 화면이 돌아간다 
화면을 고정했을때 우클릭은 작동이 되지 않아야한다

게임메니저스크립트를 사용해서 UI 전환을 구현


플레이어 이동 카메라 조정

플레이어가 s키를 눌러서 뒤로 이동할때 카메라가 플레이어를 따라서 뒤로 가져고 하는거 떄문에 문제가 생겨서
플레이어의 자식으로 카메라를 넣어서 해결

플레이어 달리기 걷기 상태 설정
컨트롤 키를 눌러서 걷기 or 달리기 상태를 설정하려고한다
디폴트 값으로 달리기를 한다고 가정

달리기 상태가 되면 RunSpeed 값을 가져온다 아니라면 speed 값을 가져와서 플레이어의 속도를 제어한다
애니매이션에서 
달리기랑 걷기를 구분할수 있는 것들이 뭐가있나
속도가 다르다 내가 임의로 지정해서 바꿀수도있다
문제는 걷는 중에 달리기로 전환하려면 아이들 상태로 가지않고 바로 달리기로 가야한다

점프키 하나로 전력질주 점프 회피 전부다 구현해야한다
새로운 로직이 필요하다

스프린트의 조건은 내가 움직이고 있고 스페이스바를 누르고있으면 실행된다
코루틴을 사용하면 조건이 달리거나 걷거나 그리고 스페이스바가 누르고있으면
CorSprint 가 호출되면서 코루틴이 실행 되고 true가 나오고 isSprint의 조건으로 사용

삼항연산자 ?
변수에 할당할 값이 2개면 불변수를 사용해서 트루면 :앞에있는거 아니면 : 뒤에있는거 사용

카메라 고정에 대한 이해
카메라를 적에게 고정하면 플레이어의 회전을 같이 상쇄시켜서 플레이어가 한번 적을 바라보면 그 방향을 유지하도록 한다
이동에 대한 애니메이션을 전부다 추가한다 옆으로이동 뒤로 이동
새로운 애니메이션이 추가되어서 기존에 있는거에서 카메라의 고정에 대한 조건을 추가해서 애니메이션이 실행되도록한다

카메라 고정되면 무조건 워크상태여야한다 런앤워크에 토글은 작동되지않아야한다

적을 찾은 상태에서의 이동 움직임에 대한 상태 변화를 구현해야한다
적을 찾은 상태이기에 움직임이 기존과는 다르게 움직인다
적을 바라보고 있는 상태에 대한 플레이어의 위치 방향의 정보를 사용해서 플레이어가 이동하는 함수에 영향을 미친다


애니 구현
패시브:스킬을 사용할 때마다 스택이 쌓이면서 4개인 상태에서 다음 스킬이 적중하면 스턴이 걸린다
화염구: 타겟팅 스킬 투사체 
소각	:부채꼴 모양 범위 공격 
용암방패: 3초 보호막 이동속도 중가뒤 1.5초 원래대로 돌아옴 보호막이 있는동안 반격
쉴드는 체력이 올라갔다가 다시 줄어드는 형태?
소환: 소환스킬 범위 공격 주변에 초당 피해

칼바람 미니언 레벨업 아이템매니저

애니를 AI로 만들어서 싸울수 있도록

미니언 다섯마리를 소환하고 다섯마리를 잡으면서 피해를 받는 상태가 있으니 다 잡고나면 회복물약을 획득하여 사용할수 있도록 구현하고
레벨업을 해서 애니와의 전투에서 이길수 있는 상황으로 만들어준다 3레벨이면 이길수 있는정도
애니를 처치하고나면 보상이 있어야하는데

인벤토리창 만들어서 아이템 사용

애니를 내가 조종해서 플레이어할수있도록

현재 문제점
애니메이션이랑 실제 공격하는게 다르다
이동하면서 애니메이션 공격이 같이 적용된다
파이어볼의 움직임이 이상하고 타겟으로 설정해서 데미지가 다르게 들어간다
화염 소각 스킬은 데미지가 추가되어있지 않다
범위 공격으로 바꿔서 적용해야한다

타겟을 사용하는데 타겟을 가져와서 타겟에 적용시키는거
플레이어에서 타겟을 지정하는거 가까운 적을 찾는거
애니는 타겟을 지정해서 플레이어로 지정만 하면해결

플레이어는 적이랑 애니 둘다 있어야가능 가까운거까지 찾아야지 해결가능
타겟 타입을 쓰는거는 매우 불편하다
그냥 간단하게 타겟이랑 콜라이더에 부딪힌 적이 같다는걸 확인하는 로직만 있으면 해결가능하다
파이어볼에서 로직을 구현할때 타겟은 애니에서도 가져올수 있고 플레이어에서도 가져올수 있다
파이어볼에서 지정된 타겟은 각각 애니 플레이어한테서 직접 따로 지정할수 있는거였다.


컨텐츠 추가
적 체력바를 추가할때 UI를 플레이어가 타겟으로 지정한 적의 체력바가 출력되도록


애니 스킬 이펙트 구현



스킬 구현중 문제
마우스 클릭으로 적을 클릭해서 스킬을 사용하려고하는데
키보드 입력을 하면 범위가 나오고 그 범위 안에 적을 클릭하게 되면 스킬이 시전되어야한다
마우스 클릭에 문제가있어서 클릭을하지만 인식을 하지 못하는 상황이 발생
단순 마우스 클릭의 문제보다 적의 레이어를 사용하기때문에 그 범위가 좁아서 생기는 문제인거같다 
범위를 늘려보려고하고 마우스 주변에 충돌을 넓혀서 해보기도 했지만 실패


기절문제
스킬에 맞은 적만 기절에 걸려야하는데 마지막에 생성된 풀이 기절에 걸리는 상황


체력바 UI
SetBar를 사용할때 이름이 같으면 하나의 값만 적용되기 때문에 두개의 체력을 표시하려면 변수명을 다르게 해서 
따로 설정해서 사용해야한다 

머리위에 체력바
적의 머리위에 체력바를 따라다니게 하려고하는데 캔버스에서 만들어진 슬라이더가 월드 좌표 스크린좌표 이렇게 놔눠서 관리해야하는데
코드로 구현할때 머리위로 슬라이더 위치를 옮기는 코드가 필요하고 풀링으로 만들어진 모든 객체의 머리위체 다 표시되게 하기 위해서
추가적인 코드가 필요하다